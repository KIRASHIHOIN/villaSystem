<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.coding.villaSystem.mapper.ActorAndPermissionMapper">
    <insert id="addPermissionToActor" parameterType="com.coding.villaSystem.entity.ActorPermission">
        INSERT INTO actorpermission(actor_id, permission_id)
        VALUES(#{actorId}, #{permissionId})
    </insert>

    <delete id="deletePermissionFromActor" parameterType="Integer">
        DELETE FROM actorpermission
        <where>
            <if test="actorId != null || actorId > 0">
                AND actor_id = #{actorId}
            </if>
            <!--<if test="permissionId != null || permissionId > 0">
                AND permission_id = #{permissionId}
            </if>-->
        </where>
    </delete>

    <select id="selectPermissionsByActorId" resultType="Integer">
        SELECT permission_id
        FROM actorpermission
        WHERE actor_id = #{actorId}
    </select>
</mapper>